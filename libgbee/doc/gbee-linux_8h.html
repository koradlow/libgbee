<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LibGBee: gbee-linux.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LibGBee
   &#160;<span id="projectnumber">0.3.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gbee-linux_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gbee-linux.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
</div>
<p><a href="gbee-linux_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a079a5a686bd57827fa65feb0bb3b7bab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a079a5a686bd57827fa65feb0bb3b7bab"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GBEE_LINUX_H_INCLUDED</b></td></tr>
<tr class="memitem:a5471832cc711c87fa354abb85f147701"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#a5471832cc711c87fa354abb85f147701">GBEE_PORT_UART_CONNECT</a>&#160;&#160;&#160;<a class="el" href="gbee-linux_8h.html#a0f3f8b36733f11132969e2a71a4be6a0">gbeePortTTYConnect</a></td></tr>
<tr class="memitem:a5e48ea51ca7163a23c522a95ea995608"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#a5e48ea51ca7163a23c522a95ea995608">GBEE_PORT_UART_DISCONNECT</a>&#160;&#160;&#160;<a class="el" href="gbee-linux_8h.html#ae8b6836223a2d33e94f854fd244baec3">gbeePortTTYDisconnect</a></td></tr>
<tr class="memitem:a7bfc68d7ed130f64da7a9a6ef5a87f12"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#a7bfc68d7ed130f64da7a9a6ef5a87f12">GBEE_PORT_UART_RECEIVE_BYTE</a>&#160;&#160;&#160;<a class="el" href="gbee-linux_8h.html#ac46be578e94a10f967a64c83ac5311b5">gbeePortTTYReceiveByte</a></td></tr>
<tr class="memitem:a5fae35271524af2dcf200c150f36ad98"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#a5fae35271524af2dcf200c150f36ad98">GBEE_PORT_UART_SEND_BUFFER</a>&#160;&#160;&#160;<a class="el" href="gbee-linux_8h.html#a3bd0c88f17386e4411f98552884c0e0a">gbeePortTTYSendBuffer</a></td></tr>
<tr class="memitem:aabf6a6fccb88acd30a2601d3b546b3b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#aabf6a6fccb88acd30a2601d3b546b3b9">GBEE_PORT_MEMORY_ALLOC</a>&#160;&#160;&#160;malloc</td></tr>
<tr class="memitem:adf66524af4f5305ec2334fcf1caba8cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#adf66524af4f5305ec2334fcf1caba8cc">GBEE_PORT_MEMORY_COPY</a>&#160;&#160;&#160;memcpy</td></tr>
<tr class="memitem:a2a6207f571a365efdc9a055bcb2970e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#a2a6207f571a365efdc9a055bcb2970e3">GBEE_PORT_TIME_GET</a>&#160;&#160;&#160;<a class="el" href="gbee-linux_8h.html#af803de880c3fdfb6be38a738a74d23d1">gbeePortTimeGet</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0f3f8b36733f11132969e2a71a4be6a0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#a0f3f8b36733f11132969e2a71a4be6a0">gbeePortTTYConnect</a> (const char *deviceName)</td></tr>
<tr class="memitem:ae8b6836223a2d33e94f854fd244baec3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#ae8b6836223a2d33e94f854fd244baec3">gbeePortTTYDisconnect</a> (int deviceIndex)</td></tr>
<tr class="memitem:a3bd0c88f17386e4411f98552884c0e0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbee-port-interface_8h.html#ae2e5056d93089ecf91e502fae511fad9">GBeeError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#a3bd0c88f17386e4411f98552884c0e0a">gbeePortTTYSendBuffer</a> (int deviceIndex, const uint8_t *buffer, uint32_t length)</td></tr>
<tr class="memitem:ac46be578e94a10f967a64c83ac5311b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gbee-port-interface_8h.html#ae2e5056d93089ecf91e502fae511fad9">GBeeError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#ac46be578e94a10f967a64c83ac5311b5">gbeePortTTYReceiveByte</a> (int deviceIndex, uint8_t *byte, uint32_t timeout)</td></tr>
<tr class="memitem:af803de880c3fdfb6be38a738a74d23d1"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gbee-linux_8h.html#af803de880c3fdfb6be38a738a74d23d1">gbeePortTimeGet</a> (void)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>d264 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>$Rev$</dd></dl>
<h1><a class="anchor" id="DESCRIPTION"></a>
DESCRIPTION</h1>
<p>This is a port of the GBee driver for Linux-based systems.</p>
<h1><a class="anchor" id="LICENSE"></a>
LICENSE</h1>
<p>This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version.</p>
<p>This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA </p>
</div><h2>Macro Definition Documentation</h2>
<a class="anchor" id="aabf6a6fccb88acd30a2601d3b546b3b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GBEE_PORT_MEMORY_ALLOC&#160;&#160;&#160;malloc</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro is used by the GBee driver to allocate a block of memory. </p>

</div>
</div>
<a class="anchor" id="adf66524af4f5305ec2334fcf1caba8cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GBEE_PORT_MEMORY_COPY&#160;&#160;&#160;memcpy</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro is used by the GBee driver to free an allocated block of memory. If this macro is undefined, the GBee driver will not try to free allocated memory (which might be necessary on small embedded systems.This macro is used by the GBee driver to copy a block of memory. </p>

</div>
</div>
<a class="anchor" id="a2a6207f571a365efdc9a055bcb2970e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GBEE_PORT_TIME_GET&#160;&#160;&#160;<a class="el" href="gbee-linux_8h.html#af803de880c3fdfb6be38a738a74d23d1">gbeePortTimeGet</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro is used by the GBee driver to get current system time. </p>

</div>
</div>
<a class="anchor" id="a5471832cc711c87fa354abb85f147701"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GBEE_PORT_UART_CONNECT&#160;&#160;&#160;<a class="el" href="gbee-linux_8h.html#a0f3f8b36733f11132969e2a71a4be6a0">gbeePortTTYConnect</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro is used by the GBee driver to connect to the UART. </p>

</div>
</div>
<a class="anchor" id="a5e48ea51ca7163a23c522a95ea995608"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GBEE_PORT_UART_DISCONNECT&#160;&#160;&#160;<a class="el" href="gbee-linux_8h.html#ae8b6836223a2d33e94f854fd244baec3">gbeePortTTYDisconnect</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro is used by the GBee driver to disconnect from the UART. </p>

</div>
</div>
<a class="anchor" id="a7bfc68d7ed130f64da7a9a6ef5a87f12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GBEE_PORT_UART_RECEIVE_BYTE&#160;&#160;&#160;<a class="el" href="gbee-linux_8h.html#ac46be578e94a10f967a64c83ac5311b5">gbeePortTTYReceiveByte</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro is used by the GBee driver to send a buffer via the UART. </p>

</div>
</div>
<a class="anchor" id="a5fae35271524af2dcf200c150f36ad98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GBEE_PORT_UART_SEND_BUFFER&#160;&#160;&#160;<a class="el" href="gbee-linux_8h.html#a3bd0c88f17386e4411f98552884c0e0a">gbeePortTTYSendBuffer</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This macro is used by the GBee driver to receive a byte from the UART. </p>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="af803de880c3fdfb6be38a738a74d23d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t gbeePortTimeGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the current time in milliseconds.</p>
<dl class="section return"><dt>Returns</dt><dd>The current timestamp in milliseconds. </dd></dl>

</div>
</div>
<a class="anchor" id="a0f3f8b36733f11132969e2a71a4be6a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gbeePortTTYConnect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connect the GBee with the given TTY interface and perform port-specific initialization.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceName</td><td>is the name of the TTY interface to open.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A handle to the TTY interface if successful and -1 in case of an error. </dd></dl>

</div>
</div>
<a class="anchor" id="ae8b6836223a2d33e94f854fd244baec3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gbeePortTTYDisconnect </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deviceIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the specified serial interface.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceIndex</td><td>is the GBee/TTY connection index. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac46be578e94a10f967a64c83ac5311b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbee-port-interface_8h.html#ae2e5056d93089ecf91e502fae511fad9">GBeeError</a> gbeePortTTYReceiveByte </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deviceIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>byte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a byte from the serial buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceIndex</td><td>is the handle returned by serialOpen. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">byte</td><td>is the byte received from the serial interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>specifies the timeout in milliseconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GBEE_NO_ERROR</td><td>to indicate success. </td></tr>
    <tr><td class="paramname">GBEE_TIMEOUT_ERROR</td><td>to indicate timeout expired wihtou any data being received. </td></tr>
    <tr><td class="paramname">GBEE_RS232_ERROR</td><td>to indicate a serial communication error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3bd0c88f17386e4411f98552884c0e0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gbee-port-interface_8h.html#ae2e5056d93089ecf91e502fae511fad9">GBeeError</a> gbeePortTTYSendBuffer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deviceIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write the given byte buffer to the TTY interface.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">deviceIndex</td><td>is the GBee/TTY connection index. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>is the byte buffer to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>is the number of bytes to send.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GBEE_NO_ERROR</td><td>to indicate success. </td></tr>
    <tr><td class="paramname">GBEE_RS232_ERROR</td><td>to indicate an error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_fd8b95245ffcce776715f180c056b450.html">port</a></li><li class="navelem"><a class="el" href="dir_42b09b86de3935144f101e98a78ff090.html">linux</a></li><li class="navelem"><a class="el" href="gbee-linux_8h.html">gbee-linux.h</a></li>
    <li class="footer">Generated on Thu Nov 8 2012 12:25:15 for LibGBee by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
